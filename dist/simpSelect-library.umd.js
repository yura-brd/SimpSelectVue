(function(T,e){typeof exports=="object"&&typeof module!="undefined"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(T=typeof globalThis!="undefined"?globalThis:T||self,e(T.MyComponentLib={},T.Vue))})(this,function(T,e){"use strict";const x={noSearch:"No matches for",searchText:"Search",title:"Select",selected:"Selected:",all:"all",ok:"Ok",cancel:"Cancel",selectAll:"Select all",resetAll:"Reset all",empty:"Empty"},R="SimpleSel",i=(c,t=!1,l=R)=>`${l}${t?"--":"__"}${c}`,U=c=>JSON.parse(JSON.stringify(c)),V=c=>{var t;return(t=c[0])!=null&&t.isOptgroupSelect?[].concat(...c.map(l=>l.items.map(n=>n))):U(c)},N=(c,t,l)=>{if(!c&&!t)return!0;if(!c&&t||c&&!t||!c||!t)return!1;const n=Array.isArray(c),o=Array.isArray(t);return!n&&o||n&&!o?!1:n&&o?q(c,t,l):!n&&!o?D(c,t):!1};function q(c,t,l){const n=c.slice().sort((a,d)=>a[l].localeCompare(d[l])),o=t.slice().sort((a,d)=>a[l].localeCompare(d[l]));if(n.length!==o.length)return!1;for(let a=0;a<n.length;a++)if(n[a].id!==o[a].id)return!1;return!0}const D=(c,t)=>{const l=Object.keys(c),n=Object.keys(t);if(l.length!==n.length)return!1;for(const o of l){const a=c[o],d=t[o],y=F(a)&&F(d);if(y&&!D(a,d)||!y&&a!==d)return!1}return!0};function F(c){return c!=null&&typeof c=="object"}const j=c=>c.toLowerCase(),O=Symbol(),E=Symbol(),J=["type","tabindex","placeholder"],z=e.defineComponent({__name:"Search",props:{searchTypeInput:{default:"search"},isDropdown:{type:Boolean,default:!1}},emits:[""],setup(c){const t=e.ref(""),l=e.inject(O),n=e.inject(E),o=e.ref(null),a=i("search"),d=e.computed(()=>n!=null&&n.isLocalOpen.value?0:-1);e.watch(t,p=>{n==null||n.setSearchText(p)}),e.watch(()=>n==null?void 0:n.isLocalOpen.value,p=>{p||(t.value="")}),e.watch(()=>n==null?void 0:n.isLocalOpen.value,p=>{p&&setTimeout(()=>{var h;(h=o.value)==null||h.focus()},20)});const y=e.computed(()=>{var h;let p=((h=l==null?void 0:l.locale)==null?void 0:h.searchText)||"";if((l==null?void 0:l.isCloneTitleToSearch)&&(n==null?void 0:n.localSelected.value)){if(Array.isArray(n.localSelected.value)&&!n.localSelected.value.length)return p;p=n.titleText.value.fullString}return p});return(p,h)=>e.withDirectives((e.openBlock(),e.createElementBlock("input",{ref_key:"$input",ref:o,"onUpdate:modelValue":h[0]||(h[0]=B=>t.value=B),class:e.normalizeClass([e.unref(a),{[e.unref(i)("top",!0,e.unref(a))]:!p.isDropdown,[e.unref(i)("dropdown",!0,e.unref(a))]:p.isDropdown}]),type:p.searchTypeInput,tabindex:d.value,placeholder:y.value,autocomplete:"off","aria-autocomplete":"none",inputmode:"none"},null,10,J)),[[e.vModelDynamic,t.value]])}}),W=["tabindex","onKeydown"],Z=e.defineComponent({__name:"Top",emits:["setIsLocalOpen"],setup(c){const t=e.inject(O),l=e.inject(E),n=e.computed(()=>t!=null&&t.disabled||l!=null&&l.isLocalOpen.value?-1:0),o=()=>{l==null||l.setIsLocalOpen()},a=e.computed(()=>{const d={fullString:(t==null?void 0:t.titleMain)||(t==null?void 0:t.locale.title)||"",result:(t==null?void 0:t.titleMain)||(t==null?void 0:t.locale.title)||""};if(!(l!=null&&l.localSelected.value))return d;if(Array.isArray(l.localSelected.value)){const y=l.localSelected.value.length;if(y&&!(t!=null&&t.isOnlyPlaceholder)){const p=l.localSelected.value.map(h=>h[t.keyTitle]);d.fullString=p.join(t==null?void 0:t.sepChars),(t==null?void 0:t.countShowSelected)&&t.countShowSelected<y?d.result=`${t==null?void 0:t.locale.selected} ${y}`:d.result=p.join(t==null?void 0:t.sepChars)}t.options.length&&y===t.options.length&&(d.result+=` <span >(${t==null?void 0:t.locale.all})<span>`)}else d.fullString=l.localSelected.value[t.keyTitle],d.result=l.localSelected.value[t.keyTitle];return l.setTitleText(d),d});return(d,y)=>{var p,h,B,C,k,u,S,m,f;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(i)("top")])},[(p=e.unref(t))!=null&&p.isRemoveTop?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([e.unref(i)("top_body")]),tabindex:n.value,onClick:y[0]||(y[0]=s=>d.$emit("setIsLocalOpen")),onKeydown:e.withKeys(e.withModifiers(o,["stop","prevent"]),["enter"])},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentTitle),{locale:e.unref(t).locale,"local-selected":e.unref(l).localSelected.value,"title-res":a.value,"count-show-selected":(h=e.unref(t))==null?void 0:h.countShowSelected,"is-only-placeholder":(B=e.unref(t))==null?void 0:B.isOnlyPlaceholder,"sep-chars":e.unref(t).sepChars,options:e.unref(t).options},null,8,["locale","local-selected","title-res","count-show-selected","is-only-placeholder","sep-chars","options"])),!((C=e.unref(t))!=null&&C.isLoading)&&!((k=e.unref(t))!=null&&k.isAlwaysOpen)?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentArrowIcon),{key:0})):e.createCommentVNode("",!0),(u=e.unref(t))!=null&&u.isLoading?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentLoading),{key:1})):e.createCommentVNode("",!0)],42,W)),((S=e.unref(t))==null?void 0:S.isSearch)&&!e.unref(t).isSearchInDropdown&&!((m=e.unref(t))!=null&&m.isFloat)?(e.openBlock(),e.createBlock(z,{key:1,"search-type-input":(f=e.unref(t))==null?void 0:f.searchTypeInput,"is-dropdown":!1},null,8,["search-type-input"])):e.createCommentVNode("",!0)],2)}}}),G=["tabindex"],Q={class:"SimpleSel__group_title"},X={class:"SimpleSel__group"},Y=["tabindex","data-sel-opt-checked","onKeyup","onClick"],P=["tabindex","data-sel-opt-checked","onKeyup","onClick"],v=e.defineComponent({__name:"BodyList",setup(c){const t=e.inject(O),l=e.inject(E),n=e.ref(V(t.options)),o=e.ref(null),a=e.ref([]),d=k=>{const u=n.value.length;if(k.key==="ArrowUp"){if(k.preventDefault(),o.value===null){o.value=u-1;return}o.value=o.value-1>=0?o.value-1:u-1;return}if(k.key==="ArrowDown"){if(k.preventDefault(),o.value===null){o.value=0;return}o.value=o.value+1<u?o.value+1:0;return}},y=()=>{o.value===null&&(o.value=0)};e.watch(o,k=>{if(!k&&k!==0)return;const u=a.value[k];u&&u.focus()}),e.watch(()=>l==null?void 0:l.isLocalOpen.value,k=>{k||(o.value=null),console.log("yura newVal",k)});const p=(k,u)=>{t!=null&&t.multiple||l==null||l.setIsLocalOpen(!1),l.setToggleOption(u)},h=e.computed(()=>{var S,m;const k=((S=l==null?void 0:l.searchText)==null?void 0:S.value.trim())||"";if(!k)return t.options;const u=f=>{var b;let s=!1;return(b=t.searchFieldsKeys)==null||b.forEach(_=>{_ in f&&j(f[_]).includes(k)&&(s=!0)}),s};return(m=t==null?void 0:t.options[0])!=null&&m.isOptgroupSelect?t.options.map(f=>{const s=f.items.filter(u);return{...f,items:s}}):t.options.filter(u)}),B=(k,u,S)=>{u.disabled||S&&S.disabled||p(k,u)},C=i("group_items");return(k,u)=>{var S;return e.openBlock(),e.createElementBlock("ul",{class:e.normalizeClass([e.unref(i)("list")]),tabindex:(S=e.unref(l))!=null&&S.isLocalOpen.value?0:-1,onKeydown:d,onKeyup:e.withKeys(y,["enter"])},[h.value.length?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(h.value,(m,f)=>{var s,b;return e.openBlock(),e.createElementBlock(e.Fragment,{key:f},[m.isOptgroupSelect?(e.openBlock(),e.createElementBlock("li",{key:0,class:e.normalizeClass([e.unref(C)])},[e.createElementVNode("div",Q,e.toDisplayString(m.label),1),e.createElementVNode("ul",X,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(m.items,(_,M)=>{var $,I;return e.openBlock(),e.createElementBlock("li",{key:_.valueOf()+"_"+M,ref_for:!0,ref_key:"itemsOption",ref:a,tabindex:f===o.value?0:-1,"data-sel-opt-checked":($=e.unref(l))!=null&&$.getSelected(_)?"true":"false",class:e.normalizeClass([["SimpleSel__list_item"],{"SimpleSel__list_item--disabled":_.disabled||m.disabled,"SimpleSel__list_item--checked":(I=e.unref(l))==null?void 0:I.getSelected(_)}]),onKeyup:e.withKeys(e.withModifiers(L=>B(L,_,m),["prevent","stop"]),["enter"]),onClick:e.withModifiers(L=>B(L,_,m),["prevent"])},[e.unref(t)?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentItemListItem),{key:0,item:_},null,8,["item"])):e.createCommentVNode("",!0)],42,Y)}),128))])],2)):(e.openBlock(),e.createElementBlock("li",{key:m.valueOf()+"_"+m,ref_for:!0,ref_key:"itemsOption",ref:a,tabindex:f===o.value?0:-1,"data-sel-opt-checked":(s=e.unref(l))!=null&&s.getSelected(m)?"true":"false",class:e.normalizeClass([["SimpleSel__list_item"],{"SimpleSel__list_item--checked":(b=e.unref(l))==null?void 0:b.getSelected(m),"SimpleSel__list_item--disabled":m.disabled}]),onKeyup:e.withKeys(e.withModifiers(_=>B(_,m),["prevent","stop"]),["enter"]),onClick:e.withModifiers(_=>B(_,m),["prevent"])},[e.unref(t)?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentItemListItem),{key:0,item:m},null,8,["item"])):e.createCommentVNode("",!0)],42,P))],64)}),128)):(e.openBlock(),e.createElementBlock("li",{key:0,class:e.normalizeClass([e.unref(C)])},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentItemListItemEmpty)))],2))],42,G)}}}),ee=e.defineComponent({__name:"Body",setup(c){const t=e.inject(O),l=e.inject(E),n=e.ref(null),o=e.ref([]),a=e.ref(),d=i("body_open",!0),y=f=>{var b;const s=f.target;!((b=l==null?void 0:l.$wrapper)!=null&&b.value)||!l.$wrapper.value.contains(s)&&s!==l.$wrapper.value&&(l==null||l.setIsLocalOpen(!1),(t==null?void 0:t.isConfirmInMulti)&&t.isConfirmInMultiOkClickOutside?l.updateOutsideModels("clickOutside"):l.resetSelectedByDontConfirm())},p=f=>{f.key==="Escape"&&(l==null||l.setIsLocalOpen(!1),l==null||l.resetSelectedByDontConfirm())},h=f=>{var b;const s=f.relatedTarget;s&&!((b=l==null?void 0:l.$wrapper.value)!=null&&b.contains(s))&&(l==null||l.setIsLocalOpen(!1))};e.watch(()=>l==null?void 0:l.isLocalOpen.value,f=>{var s;t!=null&&t.isFloat&&((s=document==null?void 0:document.body)==null||s.classList.toggle(d,f)),f&&(!(l!=null&&l.isFirstOpened.value)&&(t==null?void 0:t.isScrollToCheckedFirst)&&!(t!=null&&t.isScrollToCheckedAlways)&&B(),t!=null&&t.isScrollToCheckedAlways&&B()),typeof window!="undefined"&&(f?(document==null||document.addEventListener("click",y),document==null||document.addEventListener("keyup",p),document==null||document.addEventListener("focusout",h)):(document==null||document.removeEventListener("click",y),document==null||document.removeEventListener("keyup",p),document==null||document.removeEventListener("focusout",h)))},{immediate:!0});const B=()=>{if(a.value){const f=a.value.querySelector('[data-sel-opt-checked="true"]');f&&(a.value.scrollTop=f.offsetTop)}};e.watch(n,f=>{if(!f&&f!==0)return;const s=o.value[f];s&&s.focus()});const C=()=>{l==null||l.setIsLocalOpen(!1),l.updateOutsideModels("ok")},k=()=>{l==null||l.setIsLocalOpen(!1),l==null||l.resetSelectedByDontConfirm()},u=()=>{l==null||l.selectAll(!!(t!=null&&t.selectAllAfterClose))},S=()=>{l==null||l.resetAll(!!(t!=null&&t.resetAllAfterClose))},m=i("body");return(f,s)=>{var b,_,M,$,I,L,A;return e.openBlock(),e.createElementBlock("div",{ref_key:"$body",ref:a,class:e.normalizeClass([e.unref(m),{[e.unref(i)("toggle_open",!0,e.unref(m))]:!((b=e.unref(t))!=null&&b.isAlwaysOpen),[e.unref(i)("body-always_open",!0)]:(_=e.unref(t))==null?void 0:_.isAlwaysOpen}])},[((M=e.unref(t))==null?void 0:M.isSearch)&&e.unref(t).isSearchInDropdown?(e.openBlock(),e.createBlock(z,{key:0,"search-type-input":($=e.unref(t))==null?void 0:$.searchTypeInput,"is-dropdown":!0},null,8,["search-type-input"])):e.createCommentVNode("",!0),((I=e.unref(t))==null?void 0:I.selectAll)||((L=e.unref(t))==null?void 0:L.resetAll)?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentSelectAllControls),{key:1,select:u,reset:S,locale:e.unref(t).locale},null,8,["locale"])):e.createCommentVNode("",!0),e.createVNode(v),(A=e.unref(t))!=null&&A.isConfirmInMulti?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentBottomControl),{key:2,confirm:C,cancellation:k,locale:e.unref(t).locale},null,8,["locale"])):e.createCommentVNode("",!0)],2)}}}),te=e.defineComponent({__name:"BodyListItem",props:{item:{}},setup(c){const t=i("list_item_body"),l=e.inject(O);return(n,o)=>{var a,d;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(t)])},[((a=e.unref(l))==null?void 0:a.multiple)||((d=e.unref(l))==null?void 0:d.isSimpleShowCheckbox)?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(i)("list_item_icon")])},null,2)):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(n.item[e.unref(l).keyTitle]||""),1)],2)}}}),le=["title","innerHTML"],ne=e.defineComponent({__name:"TopTitle",props:{locale:{},localSelected:{},titleRes:{},countShowSelected:{},isOnlyPlaceholder:{type:Boolean},sepChars:{},options:{}},setup(c){const t=c,l=e.computed(()=>{const n={placeholder:!1,fill:!1,full:!1},o=V(t.options);return!t.localSelected||Array.isArray(t.localSelected)&&!t.localSelected.length?(n.placeholder=!0,n):(n.fill=!0,Array.isArray(t.localSelected)&&o.length===t.localSelected.length&&(n.full=!0),n)});return(n,o)=>(e.openBlock(),e.createElementBlock("div",{title:n.titleRes.fullString,class:e.normalizeClass([e.unref(i)("title"),{[e.unref(i)("title--placeholder")]:l.value.placeholder,[e.unref(i)("title--fill")]:l.value.fill,[e.unref(i)("title--full")]:l.value.full}]),innerHTML:n.titleRes.result||""},null,10,le))}}),oe=e.defineComponent({__name:"BottomControls",props:{confirm:{type:Function},cancellation:{type:Function},locale:{}},setup(c){const t=e.inject(E),l=i("bottom_controls"),n=i("bottom_control");return(o,a)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(l)])},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(t).componentBottomControlOk),{"class-init":e.unref(n),callback:o.confirm,locale:o.locale},null,8,["class-init","callback","locale"])),(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(t).componentBottomControlNo),{"class-init":e.unref(n),callback:o.cancellation,locale:o.locale},null,8,["class-init","callback","locale"]))],2))}}),se=e.defineComponent({__name:"BottomControlsOk",props:{callback:{type:Function},classInit:{},locale:{}},setup(c){return(t,l)=>{var n;return e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass([t.classInit,e.unref(i)("ok",!0,t.classInit)]),onClick:l[0]||(l[0]=(...o)=>t.callback&&t.callback(...o))},e.toDisplayString((n=t.locale)==null?void 0:n.ok),3)}}}),ae=e.defineComponent({__name:"BottomControlsNo",props:{callback:{type:Function},classInit:{},locale:{}},setup(c){return(t,l)=>{var n;return e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass([t.classInit,e.unref(i)("no",!0,t.classInit)]),onClick:l[0]||(l[0]=(...o)=>t.callback&&t.callback(...o))},e.toDisplayString((n=t.locale)==null?void 0:n.cancel),3)}}}),ce=e.defineComponent({__name:"SelectAllControls",props:{select:{type:Function},reset:{type:Function},locale:{}},setup(c){const t=e.inject(O),l=e.inject(E),n=i("controls"),o=i("control");return(a,d)=>{var y,p;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(n)])},[(y=e.unref(t))!=null&&y.selectAll?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentSelectAllControlsSelect),{key:0,locale:a.locale,"class-init":e.unref(o),callback:a.select,"selected-count":e.unref(l).selectedCount.value},null,8,["locale","class-init","callback","selected-count"])):e.createCommentVNode("",!0),(p=e.unref(t))!=null&&p.resetAll?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentSelectAllControlsReset),{key:1,locale:a.locale,"class-init":e.unref(o),callback:a.reset,"selected-count":e.unref(l).selectedCount.value},null,8,["locale","class-init","callback","selected-count"])):e.createCommentVNode("",!0)],2)}}}),re=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,-1)],ie=e.defineComponent({__name:"SelectAllControlSelect",props:{callback:{type:Function},classInit:{},locale:{},selectedCount:{}},setup(c){const t=c,l=()=>{t.callback()};return(n,o)=>{var a;return e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass([n.classInit,e.unref(i)("select_all",!0,n.classInit),{[e.unref(i)("select_all-disabled",!0,n.classInit)]:n.selectedCount.isMultiSelectedAll==="yes"}]),onClick:l},[(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:e.normalizeClass([e.unref(i)("select_all__icon")])},re,2)),e.createTextVNode(" "+e.toDisplayString((a=n.locale)==null?void 0:a.selectAll),1)],2)}}}),de=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,-1)],pe=e.defineComponent({__name:"SelectAllControlReset",props:{callback:{type:Function},classInit:{},locale:{},selectedCount:{}},setup(c){const t=c,l=()=>{t.callback()};return(n,o)=>{var a;return e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass([n.classInit,e.unref(i)("reset_all",!0,n.classInit),{[e.unref(i)("reset_all-disabled",!0,n.classInit)]:n.selectedCount.countChecked===0}]),onClick:l},[(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:e.normalizeClass([e.unref(i)("reset_all__icon")])},de,2)),e.createTextVNode(" "+e.toDisplayString((a=n.locale)==null?void 0:a.resetAll),1)],2)}}}),fe=["disabled","multiple"],me=["label","disabled"],ue=["selected","disabled","value"],ke=["selected","disabled","value"],ye=e.defineComponent({__name:"NativeSelect",props:{modelValue:{default:null},modelModifiers:{}},emits:e.mergeModels(["changeHandler","changeSelectHandler"],["update:modelValue"]),setup(c,{emit:t}){const l=t,n=e.inject(O),o=e.inject(E),a=e.ref(null),d=e.useModel(c,"modelValue"),y=h=>{l("changeHandler",h)},p=i("select_init");return e.onMounted(()=>{!a.value||a.value.value&&!d.value&&(l("changeSelectHandler",a.value),console.error("Value native select not matches with model"))}),(h,B)=>(e.openBlock(),e.createElementBlock("select",{ref_key:"selectElem",ref:a,tabindex:-1,disabled:e.unref(n).disabled,class:e.normalizeClass([e.unref(p),e.unref(i)("native",!0,e.unref(p))]),multiple:e.unref(n).multiple,onChange:e.withModifiers(y,["prevent"])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(n).options,(C,k)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:k},[C.isOptgroupSelect?(e.openBlock(),e.createElementBlock("optgroup",{key:0,label:C.label,disabled:C.disabled},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(C.items,(u,S)=>(e.openBlock(),e.createElementBlock("option",{key:u.valueOf()+"_"+S,selected:e.unref(o).getSelected(u),disabled:u.disabled,value:u.value},e.toDisplayString(u[e.unref(n).keyTitle]),9,ue))),128))],8,me)):(e.openBlock(),e.createElementBlock("option",{key:C.valueOf()+"_"+k,selected:e.unref(o).getSelected(C),disabled:C.disabled,value:C.value},e.toDisplayString(C[e.unref(n).keyTitle]),9,ke))],64))),128))],42,fe))}}),he=e.defineComponent({__name:"TopIconArrow",setup(c){return(t,l)=>(e.openBlock(),e.createElementBlock("span",{class:e.normalizeClass([e.unref(i)("icon")])},null,2))}}),Ce=e.defineComponent({__name:"Loader",setup(c){const t=i("loader_wrap"),l=i("loader");return(n,o)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(t)])},[e.createElementVNode("div",{class:e.normalizeClass([e.unref(l)])},null,2)],2))}}),_e=e.defineComponent({__name:"BodyListItemEmpty",props:{item:{}},setup(c){const t=i("list_item_body"),l=e.inject(O);return(n,o)=>{var a;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(t)])},e.toDisplayString((a=e.unref(l).locale)==null?void 0:a.empty),3)}}}),Be=["data-count-all","data-count-checked","data-count-checked-full","data-check-all-multi"],H=e.defineComponent({__name:"SimpSelect",props:e.mergeModels({options:{},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},countShowSelected:{default:2},sepChars:{default:","},isRemoveTop:{type:Boolean,default:!1},locale:{default:()=>x},titleMain:{default:""},isOnlyPlaceholder:{type:Boolean,default:!1},isAlwaysOpen:{type:Boolean,default:!1},isSearch:{type:Boolean,default:!0},isCloneTitleToSearch:{type:Boolean,default:!0},searchTypeInput:{default:"search"},isSearchInDropdown:{type:Boolean,default:!1},searchFieldsKeys:{default:()=>["name"]},isConfirmInMulti:{type:Boolean,default:!1},isConfirmInMultiOkClickOutside:{type:Boolean,default:!1},keyValue:{default:"value"},keyTitle:{default:"name"},isSimpleShowCheckbox:{type:Boolean,default:!1},selectAll:{type:Boolean,default:!1},selectAllAfterClose:{type:Boolean,default:!0},resetAll:{type:Boolean,default:!1},resetAllAfterClose:{type:Boolean,default:!0},isUp:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},isNative:{type:Boolean,default:!1},isFloat:{type:Boolean,default:!1},isScrollToCheckedFirst:{type:Boolean,default:!0},isScrollToCheckedAlways:{type:Boolean,default:!1}},{modelValue:{default:null},modelModifiers:{}}),emits:e.mergeModels(["callbackOpen","callbackClose"],["update:modelValue"]),setup(c,{expose:t,emit:l}){const n=e.useSlots(),o=c;e.provide(O,e.readonly(o));const a=l,d=e.useModel(c,"modelValue"),y=e.ref(null),p=e.ref(!1),h=e.computed(()=>V(o.options)),B=e.computed(()=>{const r={countChecked:0,countCheckedFull:0,isMultiSelectedAll:"no"};if(!s.value)return r;if(Array.isArray(s.value))r.countChecked=s.value.length,r.countCheckedFull=s.value.filter(g=>g[o.keyValue]).length,s.value.length===h.value.length&&(r.isMultiSelectedAll="yes");else return r.countChecked=1,s.value[o.keyValue]&&(r.countCheckedFull=1),r;return r}),C=e.ref(""),k=r=>{if(!r){C.value="";return}C.value=j(r)},u=e.ref({fullString:o.titleMain,result:o.titleMain}),S=r=>{u.value=r},m=e.ref(!1),f=r=>{o.disabled||(r===!0||r===!1?m.value=r:m.value=!m.value)};e.watch(m,r=>{p.value||e.nextTick(()=>{p.value=!0}),a(r?"callbackOpen":"callbackClose")});const s=e.ref(null);e.watch(d,()=>{N(d.value,s.value,o.keyValue)||(s.value=d.value)},{immediate:!0,deep:!0});const b=r=>{const g=r.target;_(g)},_=r=>{if(o.multiple){const g=[];for(let w=0;w<r.options.length;w++){const K=r.options[w];K.selected&&g.push(K.value)}s.value=V(o.options).filter(w=>g.includes(w[o.keyValue]))}else{const g=V(o.options).filter(w=>w[o.keyValue]===r.value)[0];s.value=g||null}e.nextTick(()=>{I()})},M=r=>{if(!o.multiple){s.value=r;return}if(!s.value||Array.isArray(s.value)&&!s.value.length){s.value=[r];return}Array.isArray(s.value)||(s.value?s.value=[s.value]:s.value=[]),s.value.some(w=>r[o.keyValue]===w[o.keyValue])?s.value=s.value.filter(w=>r[o.keyValue]!==w[o.keyValue]):s.value.push(r)};e.onBeforeMount(()=>{I()}),e.watch(s,()=>{o.isConfirmInMulti||I()},{deep:!0});const $=()=>{N(d.value,s.value,o.keyValue)||(d.value=s.value)},I=()=>{$()},L=()=>{s.value=d.value},A=r=>{s.value=o.multiple?[]:null,r&&e.nextTick(()=>{I(),m.value=!1})},be=r=>{s.value=V(o.options),r&&e.nextTick(()=>{I(),m.value=!1})},ge=r=>s.value?Array.isArray(s.value)?s.value.some(g=>r[o.keyValue]===g[o.keyValue]):s.value[o.keyValue].toString()===r[o.keyValue].toString():!1;return e.provide(E,{isLocalOpen:m,setIsLocalOpen:f,localSelected:s,$wrapper:y,searchText:C,setSearchText:k,titleText:u,setTitleText:S,getSelected:ge,setToggleOption:M,updateOutsideModels:I,resetSelectedByDontConfirm:L,resetAll:A,selectAll:be,isFirstOpened:p,selectedCount:B,componentItemListItem:n.itemListItem||te,componentItemListItemEmpty:n.itemListItemEmpty||_e,componentTitle:n.title||ne,componentBottomControl:n.bottomControl||oe,componentBottomControlOk:n.bottomControlOk||se,componentBottomControlNo:n.bottomControlNo||ae,componentSelectAllControls:n.selectControls||ce,componentSelectAllControlsSelect:n.selectControlsSelect||ie,componentSelectAllControlsReset:n.selectControlsReset||pe,componentArrowIcon:n.arrowIcon||he,componentLoading:n.loading||Ce}),t({setIsLocalOpen:f}),(r,g)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"$wrapper",ref:y,"data-count-all":h.value.length,"data-count-checked":B.value.countChecked,"data-count-checked-full":B.value.countCheckedFull,"data-check-all-multi":B.value.isMultiSelectedAll,class:e.normalizeClass([["SimpleSel"],{[e.unref(i)("multi",!0)]:r.multiple,[e.unref(i)("single",!0)]:!r.multiple,[e.unref(i)("body-always_open",!0)]:r.isAlwaysOpen,[e.unref(i)("float",!0)]:r.isFloat&&!r.isNative,[e.unref(i)("disabled",!0)]:r.disabled,[e.unref(i)("open",!0)]:m.value,[e.unref(i)("up",!0)]:r.isUp,[e.unref(i)("loading",!0)]:r.isLoading}])},[o.isNative?(e.openBlock(),e.createBlock(ye,{key:0,modelValue:d.value,"onUpdate:modelValue":g[0]||(g[0]=w=>d.value=w),onChangeHandler:b,onChangeSelectHandler:_},null,8,["modelValue"])):e.createCommentVNode("",!0),e.createVNode(Z,{onSetIsLocalOpen:f}),o.isNative?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(ee,{key:1}))],10,Be))}}),Se={install:function(c){c.component("SimpSelect",H)}};T.SimpSelect=H,T.useSelect=Se,Object.defineProperties(T,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
