(function(w,e){typeof exports=="object"&&typeof module!="undefined"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(w=typeof globalThis!="undefined"?globalThis:w||self,e(w.MyComponentLib={},w.Vue))})(this,function(w,e){"use strict";const j={noSearch:"No matches for",searchText:"Search",title:"Select",selected:"Selected:",all:"all",ok:"Ok",cancel:"Cancel",selectAll:"Select all",resetAll:"Reset all",empty:"Empty"},F="SimpleSel",i=(a,t=!1,l=F)=>`${l}${t?"--":"__"}${a}`,K=a=>JSON.parse(JSON.stringify(a)),T=a=>{var t;return(t=a[0])!=null&&t.isOptgroupSelect?[].concat(...a.map(l=>l.items.map(n=>n))):K(a)},$=(a,t,l)=>{if(!a&&!t)return!0;if(!a&&t||a&&!t||!a||!t)return!1;const n=Array.isArray(a),o=Array.isArray(t);return!n&&o||n&&!o?!1:n&&o?R(a,t,l):!n&&!o?M(a,t):!1};function R(a,t,l){const n=a.slice().sort((c,r)=>c[l].localeCompare(r[l])),o=t.slice().sort((c,r)=>c[l].localeCompare(r[l]));if(n.length!==o.length)return!1;for(let c=0;c<n.length;c++)if(n[c].id!==o[c].id)return!1;return!0}const M=(a,t)=>{const l=Object.keys(a),n=Object.keys(t);if(l.length!==n.length)return!1;for(const o of l){const c=a[o],r=t[o],u=A(c)&&A(r);if(u&&!M(c,r)||!u&&c!==r)return!1}return!0};function A(a){return a!=null&&typeof a=="object"}const g=Symbol(),L=Symbol(),x=["type","tabindex","placeholder"],N=e.defineComponent({__name:"Search",props:{searchTypeInput:{default:"search"},isDropdown:{type:Boolean,default:!1}},emits:[""],setup(a){const t=e.ref(""),l=e.inject(g),n=e.inject(L),o=e.ref(null),c=i("search"),r=e.computed(()=>n!=null&&n.isLocalOpen.value?0:-1);e.watch(t,f=>{n==null||n.setSearchText(f)}),e.watch(()=>n==null?void 0:n.isLocalOpen.value,f=>{f||(t.value="")}),e.watch(()=>n==null?void 0:n.isLocalOpen.value,f=>{f&&setTimeout(()=>{var y;(y=o.value)==null||y.focus()},20)});const u=e.computed(()=>{var y;let f=((y=l==null?void 0:l.locale)==null?void 0:y.searchText)||"";if((l==null?void 0:l.isCloneTitleToSearch)&&(n==null?void 0:n.localSelected.value)){if(Array.isArray(n.localSelected.value)&&!n.localSelected.value.length)return f;f=n.titleText.value.fullString}return f});return(f,y)=>e.withDirectives((e.openBlock(),e.createElementBlock("input",{ref_key:"$input",ref:o,"onUpdate:modelValue":y[0]||(y[0]=k=>t.value=k),class:e.normalizeClass([e.unref(c),{[e.unref(i)("top",!0,e.unref(c))]:!f.isDropdown,[e.unref(i)("dropdown",!0,e.unref(c))]:f.isDropdown}]),type:f.searchTypeInput,tabindex:r.value,placeholder:u.value,autocomplete:"off","aria-autocomplete":"none",inputmode:"none"},null,10,x)),[[e.vModelDynamic,t.value]])}}),H=["tabindex","onKeydown"],U=e.defineComponent({__name:"Top",emits:["setIsLocalOpen"],setup(a){const t=e.inject(g),l=e.inject(L),n=e.computed(()=>t!=null&&t.disabled||l!=null&&l.isLocalOpen.value?-1:0),o=()=>{l==null||l.setIsLocalOpen()},c=e.computed(()=>{const r={fullString:(t==null?void 0:t.titleMain)||(t==null?void 0:t.locale.title)||"",result:(t==null?void 0:t.titleMain)||(t==null?void 0:t.locale.title)||""};if(!(l!=null&&l.localSelected.value))return r;if(Array.isArray(l.localSelected.value)){const u=l.localSelected.value.length;if(u&&!(t!=null&&t.isOnlyPlaceholder)){const f=l.localSelected.value.map(y=>y[t.keyTitle]);r.fullString=f.join(t==null?void 0:t.sepChars),(t==null?void 0:t.countShowSelected)&&t.countShowSelected<u?r.result=`${t==null?void 0:t.locale.selected} ${u}`:r.result=f.join(t==null?void 0:t.sepChars)}t.options.length&&u===t.options.length&&(r.result+=` <span >(${t==null?void 0:t.locale.all})<span>`)}else r.fullString=l.localSelected.value[t.keyTitle],r.result=l.localSelected.value[t.keyTitle];return l.setTitleText(r),r});return(r,u)=>{var f,y,k,b,d,p,s,C,B;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(i)("top")])},[!((f=e.unref(t))!=null&&f.isAlwaysOpen)&&!((y=e.unref(t))!=null&&y.isRemoveTop)?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([e.unref(i)("top_body")]),tabindex:n.value,onClick:u[0]||(u[0]=_=>r.$emit("setIsLocalOpen")),onKeydown:e.withKeys(e.withModifiers(o,["stop","prevent"]),["enter"])},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentTitle),{locale:e.unref(t).locale,"local-selected":e.unref(l).localSelected.value,"title-res":c.value,"count-show-selected":(k=e.unref(t))==null?void 0:k.countShowSelected,"is-only-placeholder":(b=e.unref(t))==null?void 0:b.isOnlyPlaceholder,"sep-chars":e.unref(t).sepChars,options:e.unref(t).options},null,8,["locale","local-selected","title-res","count-show-selected","is-only-placeholder","sep-chars","options"])),(d=e.unref(t))!=null&&d.isLoading?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentArrowIcon),{key:0})),(p=e.unref(t))!=null&&p.isLoading?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentLoading),{key:1})):e.createCommentVNode("",!0)],42,H)):e.createCommentVNode("",!0),((s=e.unref(t))==null?void 0:s.isSearch)&&!e.unref(t).isSearchInDropdown&&!((C=e.unref(t))!=null&&C.isFloat)?(e.openBlock(),e.createBlock(N,{key:1,"search-type-input":(B=e.unref(t))==null?void 0:B.searchTypeInput,"is-dropdown":!1},null,8,["search-type-input"])):e.createCommentVNode("",!0)],2)}}}),q={class:"SimpleSel__group_title"},J={class:"SimpleSel__group"},W=["tabindex","onKeyup","onClick"],G=["tabindex","onKeyup","onClick"],Q=e.defineComponent({__name:"BodyList",setup(a){const t=e.inject(g),l=e.inject(L),n=e.ref(T(t.options)),o=e.ref(null),c=e.ref([]),r=d=>{const p=n.value.length;if(d.key==="ArrowUp"){if(o.value===null){o.value=p-1;return}o.value=o.value-1>=0?o.value-1:p-1;return}if(d.key==="ArrowDown"){if(o.value===null){o.value=0;return}o.value=o.value+1<p?o.value+1:0;return}},u=()=>{o.value===null&&(o.value=0)};e.watch(o,d=>{if(!d&&d!==0)return;const p=c.value[d];p&&p.focus()});const f=(d,p)=>{t!=null&&t.multiple||l==null||l.setIsLocalOpen(!1),l.setToggleOption(p)},y=e.computed(()=>{var s,C;const d=((s=l==null?void 0:l.searchText)==null?void 0:s.value.trim())||"";if(!d)return t.options;const p=B=>{var h;let _=!1;return(h=t.searchFieldsKeys)==null||h.forEach(S=>{S in B&&B[S].includes(d)&&(_=!0)}),_};return(C=t==null?void 0:t.options[0])!=null&&C.isOptgroupSelect?t.options.map(B=>{const _=B.items.filter(p);return{...B,items:_}}):t.options.filter(p)}),k=(d,p,s)=>{p.disabled||s&&s.disabled||f(d,p)},b=i("group_items");return(d,p)=>(e.openBlock(),e.createElementBlock("ul",{class:e.normalizeClass([e.unref(i)("list")]),tabindex:0,onKeydown:r,onKeyup:e.withKeys(u,["enter"])},[y.value.length?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(y.value,(s,C)=>{var B;return e.openBlock(),e.createElementBlock(e.Fragment,{key:C},[s.isOptgroupSelect?(e.openBlock(),e.createElementBlock("li",{key:0,class:e.normalizeClass([e.unref(b)])},[e.createElementVNode("div",q,e.toDisplayString(s.label),1),e.createElementVNode("ul",J,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.items,(_,h)=>{var S;return e.openBlock(),e.createElementBlock("li",{key:_.valueOf()+"_"+h,ref_for:!0,ref_key:"itemsOption",ref:c,tabindex:C===o.value?0:-1,class:e.normalizeClass([["SimpleSel__list_item"],{"SimpleSel__list_item--disabled":_.disabled||s.disabled,"SimpleSel__list_item--checked":(S=e.unref(l))==null?void 0:S.getSelected(_)}]),onKeyup:e.withKeys(e.withModifiers(E=>k(E,_,s),["prevent","stop"]),["enter"]),onClick:e.withModifiers(E=>k(E,_,s),["prevent"])},[e.unref(t)?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentItemListItem),{key:0,item:_},null,8,["item"])):e.createCommentVNode("",!0)],42,W)}),128))])],2)):(e.openBlock(),e.createElementBlock("li",{key:s.valueOf()+"_"+s,ref_for:!0,ref_key:"itemsOption",ref:c,tabindex:C===o.value?0:-1,class:e.normalizeClass([["SimpleSel__list_item"],{"SimpleSel__list_item--checked":(B=e.unref(l))==null?void 0:B.getSelected(s),"SimpleSel__list_item--disabled":s.disabled}]),onKeyup:e.withKeys(e.withModifiers(_=>k(_,s),["prevent","stop"]),["enter"]),onClick:e.withModifiers(_=>k(_,s),["prevent"])},[e.unref(t)?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentItemListItem),{key:0,item:s},null,8,["item"])):e.createCommentVNode("",!0)],42,G))],64)}),128)):(e.openBlock(),e.createElementBlock("li",{key:0,class:e.normalizeClass([e.unref(b)])},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentItemListItemEmpty)))],2))],34))}}),X=e.defineComponent({__name:"Body",setup(a){const t=e.inject(g),l=e.inject(L),n=e.ref(null),o=e.ref([]),c=i("body_open",!0),r=p=>{var C;const s=p.target;!((C=l==null?void 0:l.$wrapper)!=null&&C.value)||!l.$wrapper.value.contains(s)&&s!==l.$wrapper.value&&(l==null||l.setIsLocalOpen(!1),(t==null?void 0:t.isConfirmInMulti)&&t.isConfirmInMultiOkClickOutside?l.updateOutsideModels("clickOutside"):l.resetSelectedByDontConfirm())},u=p=>{p.key==="Escape"&&(l==null||l.setIsLocalOpen(!1),l==null||l.resetSelectedByDontConfirm())},f=p=>{var C;const s=p.relatedTarget;s&&!((C=l==null?void 0:l.$wrapper.value)!=null&&C.contains(s))&&(l==null||l.setIsLocalOpen(!1))};e.watch(()=>l==null?void 0:l.isLocalOpen.value,p=>{var s;t!=null&&t.isFloat&&((s=document==null?void 0:document.body)==null||s.classList.toggle(c,p)),typeof window!="undefined"&&(p?(document==null||document.addEventListener("click",r),document==null||document.addEventListener("keyup",u),document==null||document.addEventListener("focusout",f)):(document==null||document.removeEventListener("click",r),document==null||document.removeEventListener("keyup",u),document==null||document.removeEventListener("focusout",f)))},{immediate:!0}),e.watch(n,p=>{if(!p&&p!==0)return;const s=o.value[p];s&&s.focus()});const y=()=>{l==null||l.setIsLocalOpen(!1),l.updateOutsideModels("ok")},k=()=>{l==null||l.setIsLocalOpen(!1),l==null||l.resetSelectedByDontConfirm()},b=()=>{l==null||l.selectAll(!!(t!=null&&t.selectAllAfterClose))},d=()=>{l==null||l.resetAll(!!(t!=null&&t.resetAllAfterClose))};return(p,s)=>{var C,B,_,h,S,E;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(i)("body"),{[e.unref(i)("body-always_open",!0)]:(C=e.unref(t))==null?void 0:C.isAlwaysOpen}])},[((B=e.unref(t))==null?void 0:B.isSearch)&&e.unref(t).isSearchInDropdown?(e.openBlock(),e.createBlock(N,{key:0,"search-type-input":(_=e.unref(t))==null?void 0:_.searchTypeInput,"is-dropdown":!0},null,8,["search-type-input"])):e.createCommentVNode("",!0),((h=e.unref(t))==null?void 0:h.selectAll)||((S=e.unref(t))==null?void 0:S.resetAll)?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentSelectAllControls),{key:1,select:b,reset:d,locale:e.unref(t).locale},null,8,["locale"])):e.createCommentVNode("",!0),e.createVNode(Q),(E=e.unref(t))!=null&&E.isConfirmInMulti?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentBottomControl),{key:2,confirm:y,cancellation:k,locale:e.unref(t).locale},null,8,["locale"])):e.createCommentVNode("",!0)],2)}}}),Y=e.defineComponent({__name:"BodyListItem",props:{item:{}},setup(a){const t=i("list_item_body"),l=e.inject(g);return(n,o)=>{var c,r;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(t)])},[((c=e.unref(l))==null?void 0:c.multiple)||((r=e.unref(l))==null?void 0:r.isSimpleShowCheckbox)?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(i)("list_item_icon")])},null,2)):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(n.item[e.unref(l).keyTitle]||""),1)],2)}}}),Z=["title","innerHTML"],P=e.defineComponent({__name:"TopTitle",props:{locale:{},localSelected:{},titleRes:{},countShowSelected:{},isOnlyPlaceholder:{type:Boolean},sepChars:{},options:{}},setup(a){const t=a,l=e.computed(()=>{const n={placeholder:!1,fill:!1,full:!1},o=T(t.options);return!t.localSelected||Array.isArray(t.localSelected)&&!t.localSelected.length?(n.placeholder=!0,n):(n.fill=!0,Array.isArray(t.localSelected)&&o.length===t.localSelected.length&&(n.full=!0),n)});return(n,o)=>(e.openBlock(),e.createElementBlock("div",{title:n.titleRes.fullString,class:e.normalizeClass([e.unref(i)("title"),{[e.unref(i)("title--placeholder")]:l.value.placeholder,[e.unref(i)("title--fill")]:l.value.fill,[e.unref(i)("title--full")]:l.value.full}]),innerHTML:n.titleRes.result||""},null,10,Z))}}),v=e.defineComponent({__name:"BottomControls",props:{confirm:{type:Function},cancellation:{type:Function},locale:{}},setup(a){const t=e.inject(L),l=i("bottom_controls"),n=i("bottom_control");return(o,c)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(l)])},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(t).componentBottomControlOk),{"class-init":e.unref(n),callback:o.confirm,locale:o.locale},null,8,["class-init","callback","locale"])),(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(t).componentBottomControlNo),{"class-init":e.unref(n),callback:o.cancellation,locale:o.locale},null,8,["class-init","callback","locale"]))],2))}}),ee=e.defineComponent({__name:"BottomControlsOk",props:{callback:{type:Function},classInit:{},locale:{}},setup(a){return(t,l)=>{var n;return e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass([t.classInit,e.unref(i)("ok",!0,t.classInit)]),onClick:l[0]||(l[0]=(...o)=>t.callback&&t.callback(...o))},e.toDisplayString((n=t.locale)==null?void 0:n.ok),3)}}}),te=e.defineComponent({__name:"BottomControlsNo",props:{callback:{type:Function},classInit:{},locale:{}},emits:["confirm","cancellation"],setup(a){return(t,l)=>{var n;return e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass([t.classInit,e.unref(i)("no",!0,t.classInit)]),onClick:l[0]||(l[0]=(...o)=>t.callback&&t.callback(...o))},e.toDisplayString((n=t.locale)==null?void 0:n.cancel),3)}}}),le=e.defineComponent({__name:"SelectAllControls",props:{select:{type:Function},reset:{type:Function},locale:{}},setup(a){const t=e.inject(g),l=e.inject(L),n=i("controls"),o=i("control");return(c,r)=>{var u,f;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(n)])},[(u=e.unref(t))!=null&&u.selectAll?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentSelectAllControlsSelect),{key:0,locale:c.locale,"class-init":e.unref(o),callback:c.select},null,8,["locale","class-init","callback"])):e.createCommentVNode("",!0),(f=e.unref(t))!=null&&f.resetAll?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentSelectAllControlsReset),{key:1,locale:c.locale,"class-init":e.unref(o),callback:c.reset},null,8,["locale","class-init","callback"])):e.createCommentVNode("",!0)],2)}}}),ne=e.defineComponent({__name:"SelectAllControlSelect",props:{callback:{type:Function},classInit:{},locale:{}},setup(a){return(t,l)=>{var n;return e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass([t.classInit,e.unref(i)("select_all",!0,t.classInit)]),onClick:l[0]||(l[0]=(...o)=>t.callback&&t.callback(...o))},[e.createElementVNode("span",{class:e.normalizeClass([e.unref(i)("select_all__icon")])},null,2),e.createTextVNode(" "+e.toDisplayString((n=t.locale)==null?void 0:n.selectAll),1)],2)}}}),oe=e.defineComponent({__name:"SelectAllControlReset",props:{callback:{type:Function},classInit:{},locale:{}},setup(a){return(t,l)=>{var n;return e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass([t.classInit,e.unref(i)("reset_all",!0,t.classInit)]),onClick:l[0]||(l[0]=(...o)=>t.callback&&t.callback(...o))},[e.createElementVNode("span",{class:e.normalizeClass([e.unref(i)("reset_all__icon")])},null,2),e.createTextVNode(" "+e.toDisplayString((n=t.locale)==null?void 0:n.resetAll),1)],2)}}}),se=["disabled","multiple"],ae=["label","disabled"],ce=["selected","disabled","value"],re=["selected","disabled","value"],ie=e.defineComponent({__name:"NativeSelect",props:{modelValue:{default:null},modelModifiers:{}},emits:e.mergeModels(["changeHandler"],["update:modelValue"]),setup(a,{emit:t}){const l=t,n=e.inject(g),o=e.inject(L),c=e.useModel(a,"modelValue"),r=f=>{l("changeHandler",f)},u=i("select_init");return(f,y)=>e.withDirectives((e.openBlock(),e.createElementBlock("select",{"onUpdate:modelValue":y[0]||(y[0]=k=>c.value=k),tabindex:-1,disabled:e.unref(n).disabled,class:e.normalizeClass([e.unref(u),e.unref(i)("native",!0,e.unref(u))]),multiple:e.unref(n).multiple,onChange:e.withModifiers(r,["prevent"])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(n).options,(k,b)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:b},[k.isOptgroupSelect?(e.openBlock(),e.createElementBlock("optgroup",{key:0,label:k.label,disabled:k.disabled},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(k.items,(d,p)=>(e.openBlock(),e.createElementBlock("option",{key:d.valueOf()+"_"+p,selected:e.unref(o).getSelected(d),disabled:d.disabled,value:d.value},e.toDisplayString(d[e.unref(n).keyTitle]),9,ce))),128))],8,ae)):(e.openBlock(),e.createElementBlock("option",{key:k.valueOf()+"_"+b,selected:e.unref(o).getSelected(k),disabled:k.disabled,value:k.value},e.toDisplayString(k[e.unref(n).keyTitle]),9,re))],64))),128))],42,se)),[[e.vModelSelect,c.value]])}}),pe=e.defineComponent({__name:"TopIconArrow",setup(a){return(t,l)=>(e.openBlock(),e.createElementBlock("span",{class:e.normalizeClass([e.unref(i)("icon")])},null,2))}}),fe=e.defineComponent({__name:"Loader",setup(a){const t=i("loader_wrap"),l=i("loader");return(n,o)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(t)])},[e.createElementVNode("div",{class:e.normalizeClass([e.unref(l)])},null,2)],2))}}),de=e.defineComponent({__name:"BodyListItemEmpty",props:{item:{}},setup(a){const t=i("list_item_body"),l=e.inject(g);return(n,o)=>{var c;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(t)])},e.toDisplayString((c=e.unref(l).locale)==null?void 0:c.empty),3)}}}),D=e.defineComponent({__name:"SimpSelect",props:e.mergeModels({options:{},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},countShowSelected:{default:2},sepChars:{default:","},isRemoveTop:{type:Boolean,default:!1},locale:{default:()=>j},titleMain:{default:""},isOnlyPlaceholder:{type:Boolean,default:!1},isAlwaysOpen:{type:Boolean,default:!1},isSearch:{type:Boolean,default:!0},isCloneTitleToSearch:{type:Boolean,default:!0},searchTypeInput:{default:"search"},isSearchInDropdown:{type:Boolean,default:!1},searchFieldsKeys:{default:()=>["name"]},isConfirmInMulti:{type:Boolean,default:!1},isConfirmInMultiOkClickOutside:{type:Boolean,default:!1},keyValue:{default:"value"},keyTitle:{default:"name"},isSimpleShowCheckbox:{type:Boolean,default:!1},selectAll:{type:Boolean,default:!1},selectAllAfterClose:{type:Boolean,default:!0},resetAll:{type:Boolean,default:!1},resetAllAfterClose:{type:Boolean,default:!0},isUp:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},isNative:{type:Boolean,default:!1},isFloat:{type:Boolean,default:!1}},{modelValue:{default:null},modelModifiers:{}}),emits:e.mergeModels(["callbackOpen","callbackClose"],["update:modelValue"]),setup(a,{expose:t,emit:l}){const n=e.useSlots(),o=a;e.provide(g,e.readonly(o));const c=l,r=e.useModel(a,"modelValue"),u=e.ref(null),f=e.ref(""),y=m=>{f.value=m||""},k=e.ref({fullString:o.titleMain,result:o.titleMain}),b=m=>{k.value=m},d=e.ref(!1),p=m=>{o.disabled||(m===!0||m===!1?d.value=m:d.value=!d.value)};e.watch(d,m=>{c(m?"callbackOpen":"callbackClose")});const s=e.ref(null);e.watch(r,()=>{$(r.value,s.value,o.keyValue)||(s.value=r.value)},{immediate:!0,deep:!0});const C=m=>{const O=m.target;if(o.multiple){const I=[];for(let V=0;V<O.options.length;V++){const z=O.options[V];z.selected&&I.push(z.value)}s.value=T(o.options).filter(V=>I.includes(V[o.keyValue]))}else s.value=T(o.options).filter(I=>I[o.keyValue]===O.value);e.nextTick(()=>{h()})},B=m=>{if(!o.multiple){s.value=m;return}if(!s.value||Array.isArray(s.value)&&!s.value.length){s.value=[m];return}Array.isArray(s.value)||(s.value?s.value=[s.value]:s.value=[]),s.value.some(I=>m[o.keyValue]===I[o.keyValue])?s.value=s.value.filter(I=>m[o.keyValue]!==I[o.keyValue]):s.value.push(m)};e.onBeforeMount(()=>{h()}),e.watch(s,m=>{o.isConfirmInMulti||h()},{deep:!0});const _=()=>{$(r.value,s.value,o.keyValue)||(r.value=s.value)},h=()=>{_()},S=()=>{s.value=r.value},E=m=>{s.value=o.multiple?[]:null,m&&e.nextTick(()=>{h(),d.value=!1})},ue=m=>{s.value=T(o.options),m&&e.nextTick(()=>{h(),d.value=!1})},ke=m=>s.value?Array.isArray(s.value)?s.value.some(O=>m[o.keyValue]===O[o.keyValue]):s.value[o.keyValue].toString()===m[o.keyValue].toString():!1;return e.provide(L,{isLocalOpen:d,setIsLocalOpen:p,localSelected:s,$wrapper:u,searchText:f,setSearchText:y,titleText:k,setTitleText:b,getSelected:ke,setToggleOption:B,updateOutsideModels:h,resetSelectedByDontConfirm:S,resetAll:E,selectAll:ue,componentItemListItem:n.itemListItem||Y,componentItemListItemEmpty:n.itemListItemEmpty||de,componentTitle:n.title||P,componentBottomControl:n.bottomControl||v,componentBottomControlOk:n.bottomControlOk||ee,componentBottomControlNo:n.bottomControlNo||te,componentSelectAllControls:n.selectControls||le,componentSelectAllControlsSelect:n.selectControlsSelect||ne,componentSelectAllControlsReset:n.selectControlsReset||oe,componentArrowIcon:n.arrowIcon||pe,componentLoading:n.loading||fe}),t({setIsLocalOpen:p}),(m,O)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"$wrapper",ref:u,class:e.normalizeClass([["SimpleSel"],{[e.unref(i)("multi",!0)]:m.multiple,[e.unref(i)("single",!0)]:!m.multiple,[e.unref(i)("body-always_open",!0)]:m.isAlwaysOpen,[e.unref(i)("float",!0)]:m.isFloat,[e.unref(i)("disabled",!0)]:m.disabled,[e.unref(i)("open",!0)]:d.value,[e.unref(i)("up",!0)]:m.isUp,[e.unref(i)("loading",!0)]:m.isLoading}])},[o.isNative?(e.openBlock(),e.createBlock(ie,{key:0,modelValue:r.value,"onUpdate:modelValue":O[0]||(O[0]=I=>r.value=I),onChangeHandler:C},null,8,["modelValue"])):e.createCommentVNode("",!0),e.createVNode(U,{onSetIsLocalOpen:p}),o.isNative?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(X,{key:1}))],2))}}),me={install:function(a){a.component("SimpSelect",D)}};w.SimpSelect=D,w.useSelect=me,Object.defineProperties(w,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
