(function(I,e){typeof exports=="object"&&typeof module!="undefined"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(I=typeof globalThis!="undefined"?globalThis:I||self,e(I.MyComponentLib={},I.Vue))})(this,function(I,e){"use strict";const K={noSearch:"No matches for",searchText:"Search",title:"Select",selected:"Selected:",all:"all",ok:"Ok",cancel:"Cancel",selectAll:"Select all",resetAll:"Reset all"},R="SimpleSel",i=(s,t=!1,l=R)=>`${l}${t?"--":"__"}${s}`,M=s=>typeof s=="string"||typeof s=="number"?s:$(s),$=s=>JSON.parse(JSON.stringify(s)),N=s=>{var t;return(t=s[0])!=null&&t.isOptgroupSelect?[].concat(...s.map(l=>l.items.map(o=>o))):$(s)},F=(s,t)=>{const l=Object.keys(s),o=Object.keys(t);if(l.length!==o.length)return!1;for(const n of l){const f=s[n],p=t[n],k=D(f)&&D(p);if(k&&!F(f,p)||!k&&f!==p)return!1}return!0};function D(s){return s!=null&&typeof s=="object"}const w=Symbol(),L=Symbol(),H=["type","tabindex","placeholder"],j=e.defineComponent({__name:"Search",props:{searchTypeInput:{default:"search"},isDropdown:{type:Boolean,default:!1}},emits:[""],setup(s){const t=e.ref(""),l=e.inject(w),o=e.inject(L),n=e.ref(null),f=i("search"),p=e.computed(()=>o!=null&&o.isLocalOpen.value?0:-1);e.watch(t,d=>{o==null||o.setSearchText(d)}),e.watch(()=>o==null?void 0:o.isLocalOpen.value,d=>{d||(t.value="")}),e.watch(()=>o==null?void 0:o.isLocalOpen.value,d=>{d&&setTimeout(()=>{var h;(h=n.value)==null||h.focus()},20)});const k=e.computed(()=>{var h;let d=((h=l==null?void 0:l.locale)==null?void 0:h.searchText)||"";return(l==null?void 0:l.isCloneTitleToSearch)&&(o==null?void 0:o.localSelectedFull.value.length)&&(d=o.titleText.value.fullString),d});return(d,h)=>e.withDirectives((e.openBlock(),e.createElementBlock("input",{ref_key:"$input",ref:n,"onUpdate:modelValue":h[0]||(h[0]=_=>t.value=_),class:e.normalizeClass([e.unref(f),{[e.unref(i)("top",!0,e.unref(f))]:!d.isDropdown,[e.unref(i)("dropdown",!0,e.unref(f))]:d.isDropdown}]),type:d.searchTypeInput,tabindex:p.value,placeholder:k.value,autocomplete:"off","aria-autocomplete":"none",inputmode:"none"},null,10,H)),[[e.vModelDynamic,t.value]])}}),U=["tabindex","onKeydown"],x=e.defineComponent({__name:"Top",emits:["setIsLocalOpen"],setup(s){const t=e.inject(w),l=e.inject(L),o=e.computed(()=>t!=null&&t.disabled||l!=null&&l.isLocalOpen.value?-1:0),n=()=>{l==null||l.setIsLocalOpen()},f=e.computed(()=>{if(!(l!=null&&l.localSelectedFull.value))return{fullString:"",result:""};const p={fullString:(t==null?void 0:t.titleMain)||(t==null?void 0:t.locale.title)||"",result:(t==null?void 0:t.titleMain)||(t==null?void 0:t.locale.title)||""},k=l==null?void 0:l.localSelectedFull.value.length;if((l==null?void 0:l.localSelectedFull.value.length)&&!(t!=null&&t.isOnlyPlaceholder)){const d=l==null?void 0:l.localSelectedFull.value.map(h=>h.name);p.fullString=d.join(t==null?void 0:t.sepChars),(t==null?void 0:t.countShowSelected)&&t.countShowSelected<k?p.result=`${t==null?void 0:t.locale.selected} ${k}`:p.result=d.join(t==null?void 0:t.sepChars)}return k===(t==null?void 0:t.options.length)&&(p.result+=` <span >(${t==null?void 0:t.locale.all})<span>`),l==null||l.setTitleText(p),p});return(p,k)=>{var d,h,_,C,m,a,y,c,u,g,B,b;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(i)("top")])},[!((d=e.unref(t))!=null&&d.isAlwaysOpen)&&!((h=e.unref(t))!=null&&h.isRemoveTop)?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([e.unref(i)("top_body")]),tabindex:o.value,onClick:k[0]||(k[0]=V=>p.$emit("setIsLocalOpen")),onKeydown:e.withKeys(e.withModifiers(n,["stop","prevent"]),["enter"])},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentTitle),{locale:e.unref(t).locale,"local-selected-full":(_=e.unref(l))==null?void 0:_.localSelectedFull.value,titleRes:f.value,"count-show-selected":(C=e.unref(t))==null?void 0:C.countShowSelected,"is-only-placeholder":(m=e.unref(t))==null?void 0:m.isOnlyPlaceholder,"sep-chars":(a=e.unref(t))==null?void 0:a.sepChars,options:(y=e.unref(t))==null?void 0:y.options},null,8,["locale","local-selected-full","titleRes","count-show-selected","is-only-placeholder","sep-chars","options"])),(c=e.unref(t))!=null&&c.isLoading?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentArrowIcon),{key:0})),(u=e.unref(t))!=null&&u.isLoading?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentLoading),{key:1})):e.createCommentVNode("",!0)],42,U)):e.createCommentVNode("",!0),((g=e.unref(t))==null?void 0:g.isSearch)&&!e.unref(t).isSearchInDropdown&&!((B=e.unref(t))!=null&&B.isFloat)?(e.openBlock(),e.createBlock(j,{key:1,"search-type-input":(b=e.unref(t))==null?void 0:b.searchTypeInput,"is-dropdown":!1},null,8,["search-type-input"])):e.createCommentVNode("",!0)],2)}}}),q={key:0,class:"SimpleSel__group_items"},J={class:"SimpleSel__group_title"},G={class:"SimpleSel__group"},W=["tabindex","onKeyup","onClick"],Q=["tabindex","onKeyup","onClick"],X=e.defineComponent({__name:"BodyList",setup(s){const t=e.inject(w),l=e.inject(L),o=e.ref(N(t.options)),n=e.ref(null),f=e.ref([]),p=C=>{const m=o.value.length;if(C.key==="ArrowUp"){if(n.value===null){n.value=m-1;return}n.value=n.value-1>=0?n.value-1:m-1;return}if(C.key==="ArrowDown"){if(n.value===null){n.value=0;return}n.value=n.value+1<m?n.value+1:0;return}},k=()=>{n.value===null&&(n.value=0)};e.watch(n,C=>{if(!C&&C!==0)return;const m=f.value[C];m&&m.focus()});const d=(C,m)=>{t!=null&&t.multiple||l==null||l.setIsLocalOpen(!1),l.setToggleOption(m)},h=e.computed(()=>{var a,y;const C=((a=l==null?void 0:l.searchText)==null?void 0:a.value.trim())||"";if(!C)return t.options;const m=c=>{var g;let u=!1;return(g=t.searchFieldsKeys)==null||g.forEach(B=>{B in c&&c[B].includes(C)&&(u=!0)}),u};return(y=t==null?void 0:t.options[0])!=null&&y.isOptgroupSelect?t.options.map(c=>{const u=c.items.filter(m);return{...c,items:u}}):t.options.filter(m)}),_=(C,m,a)=>{m.disabled||a&&a.disabled||d(C,m)};return(C,m)=>(e.openBlock(),e.createElementBlock("ul",{class:e.normalizeClass([e.unref(i)("list")]),tabindex:0,onKeydown:p,onKeyup:e.withKeys(k,["enter"])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.value,(a,y)=>{var c;return e.openBlock(),e.createElementBlock(e.Fragment,{key:y},[a.isOptgroupSelect?(e.openBlock(),e.createElementBlock("li",q,[e.createElementVNode("div",J,e.toDisplayString(a.label),1),e.createElementVNode("ul",G,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.items,(u,g)=>{var B;return e.openBlock(),e.createElementBlock("li",{key:u.valueOf()+"_"+g,ref_for:!0,ref_key:"itemsOption",ref:f,tabindex:y===n.value?0:-1,class:e.normalizeClass([["SimpleSel__list_item"],{"SimpleSel__list_item--disabled":u.disabled||a.disabled,"SimpleSel__list_item--checked":(B=e.unref(l))==null?void 0:B.getSelected(u)}]),onKeyup:e.withKeys(e.withModifiers(b=>_(b,u,a),["prevent","stop"]),["enter"]),onClick:e.withModifiers(b=>_(b,u,a),["prevent"])},[e.unref(t)?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentItemList),{key:0,item:u},null,8,["item"])):e.createCommentVNode("",!0)],42,W)}),128))])])):(e.openBlock(),e.createElementBlock("li",{key:a.valueOf()+"_"+a,ref_for:!0,ref_key:"itemsOption",ref:f,tabindex:y===n.value?0:-1,class:e.normalizeClass([["SimpleSel__list_item"],{"SimpleSel__list_item--checked":(c=e.unref(l))==null?void 0:c.getSelected(a),"SimpleSel__list_item--disabled":a.disabled}]),onKeyup:e.withKeys(e.withModifiers(u=>_(u,a),["prevent","stop"]),["enter"]),onClick:e.withModifiers(u=>_(u,a),["prevent"])},[e.unref(t)?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentItemList),{key:0,item:a},null,8,["item"])):e.createCommentVNode("",!0)],42,Q))],64)}),128))],34))}}),Y=e.defineComponent({__name:"Body",setup(s){const t=e.inject(w),l=e.inject(L),o=e.ref(null),n=e.ref([]),f=i("body_open",!0),p=a=>{var c;const y=a.target;!((c=l==null?void 0:l.$wrapper)!=null&&c.value)||!l.$wrapper.value.contains(y)&&y!==l.$wrapper.value&&(l==null||l.setIsLocalOpen(!1),(t==null?void 0:t.isConfirmInMulti)&&t.isConfirmInMultiOkClickOutside?l.updateOutsideModels("clickOutside"):l.resetSelectedByDontConfirm())},k=a=>{a.key==="Escape"&&(l==null||l.setIsLocalOpen(!1),l==null||l.resetSelectedByDontConfirm())},d=a=>{var c;const y=a.relatedTarget;y&&!((c=l==null?void 0:l.$wrapper.value)!=null&&c.contains(y))&&(l==null||l.setIsLocalOpen(!1))};e.watch(()=>l==null?void 0:l.isLocalOpen.value,a=>{var y;t!=null&&t.isFloat&&((y=document==null?void 0:document.body)==null||y.classList.toggle(f,a)),typeof window!="undefined"&&(a?(document==null||document.addEventListener("click",p),document==null||document.addEventListener("keyup",k),document==null||document.addEventListener("focusout",d)):(document==null||document.removeEventListener("click",p),document==null||document.removeEventListener("keyup",k),document==null||document.removeEventListener("focusout",d)))},{immediate:!0}),e.watch(o,a=>{if(!a&&a!==0)return;const y=n.value[a];y&&y.focus()});const h=()=>{l==null||l.setIsLocalOpen(!1),l.updateOutsideModels("ok")},_=()=>{l==null||l.setIsLocalOpen(!1),l==null||l.resetSelectedByDontConfirm()},C=()=>{l==null||l.selectAll(!!(t!=null&&t.selectAllAfterClose))},m=()=>{l==null||l.resetAll(!!(t!=null&&t.resetAllAfterClose))};return(a,y)=>{var c,u,g,B,b,V;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(i)("body"),{[e.unref(i)("body-always_open",!0)]:(c=e.unref(t))==null?void 0:c.isAlwaysOpen}])},[((u=e.unref(t))==null?void 0:u.isSearch)&&e.unref(t).isSearchInDropdown?(e.openBlock(),e.createBlock(j,{key:0,"search-type-input":(g=e.unref(t))==null?void 0:g.searchTypeInput,"is-dropdown":!0},null,8,["search-type-input"])):e.createCommentVNode("",!0),((B=e.unref(t))==null?void 0:B.selectAll)||((b=e.unref(t))==null?void 0:b.resetAll)?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentSelectAllControls),{key:1,select:C,reset:m,locale:e.unref(t).locale},null,8,["locale"])):e.createCommentVNode("",!0),e.createVNode(X),(V=e.unref(t))!=null&&V.isConfirmInMulti?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentBottomControl),{key:2,confirm:h,cancellation:_,locale:e.unref(t).locale},null,8,["locale"])):e.createCommentVNode("",!0)],2)}}}),Z=e.defineComponent({__name:"BodyListItem",props:{item:{}},setup(s){const t=i("list_item_body"),l=e.inject(w);return(o,n)=>{var f,p;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(t)])},[((f=e.unref(l))==null?void 0:f.multiple)||((p=e.unref(l))==null?void 0:p.isSimpleShowCheckbox)?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(i)("list_item_icon")])},null,2)):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(o.item[e.unref(l).keyTitle]||""),1)],2)}}}),P=["title","innerHTML"],v=e.defineComponent({__name:"TopTitle",props:{locale:{},localSelectedFull:{},titleRes:{},countShowSelected:{},isOnlyPlaceholder:{type:Boolean},sepChars:{},options:{}},setup(s){return(t,l)=>(e.openBlock(),e.createElementBlock("div",{title:t.titleRes.fullString,class:e.normalizeClass([e.unref(i)("title"),{[e.unref(i)("title--placeholder")]:!t.localSelectedFull.length,[e.unref(i)("title--fill")]:t.localSelectedFull.length,[e.unref(i)("title--full")]:t.localSelectedFull.length===t.options.length}]),innerHTML:t.titleRes.result||""},null,10,P))}}),ee=e.defineComponent({__name:"BottomControls",props:{confirm:{type:Function},cancellation:{type:Function},locale:{}},setup(s){const t=e.inject(L),l=i("bottom_controls"),o=i("bottom_control");return(n,f)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createTextVNode(" asdas "),e.createElementVNode("div",{class:e.normalizeClass([e.unref(l)])},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(t).componentBottomControlOk),{"class-init":e.unref(o),callback:n.confirm,locale:n.locale},null,8,["class-init","callback","locale"])),(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(t).componentBottomControlNo),{"class-init":e.unref(o),callback:n.cancellation,locale:n.locale},null,8,["class-init","callback","locale"]))],2)],64))}}),te=e.defineComponent({__name:"BottomControlsOk",props:{callback:{type:Function},classInit:{},locale:{}},setup(s){return(t,l)=>{var o;return e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass([t.classInit,e.unref(i)("ok",!0,t.classInit)]),onClick:l[0]||(l[0]=(...n)=>t.callback&&t.callback(...n))},e.toDisplayString((o=t.locale)==null?void 0:o.ok),3)}}}),le=e.defineComponent({__name:"BottomControlsNo",props:{callback:{type:Function},classInit:{},locale:{}},emits:["confirm","cancellation"],setup(s){return(t,l)=>{var o;return e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass([t.classInit,e.unref(i)("no",!0,t.classInit)]),onClick:l[0]||(l[0]=(...n)=>t.callback&&t.callback(...n))},e.toDisplayString((o=t.locale)==null?void 0:o.cancel),3)}}}),ne=e.defineComponent({__name:"SelectAllControls",props:{select:{type:Function},reset:{type:Function},locale:{}},setup(s){const t=e.inject(w),l=e.inject(L),o=i("controls"),n=i("control");return(f,p)=>{var k,d;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(o)])},[(k=e.unref(t))!=null&&k.selectAll?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentSelectAllControlsSelect),{key:0,locale:f.locale,"class-init":e.unref(n),callback:f.select},null,8,["locale","class-init","callback"])):e.createCommentVNode("",!0),(d=e.unref(t))!=null&&d.resetAll?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l).componentSelectAllControlsReset),{key:1,locale:f.locale,"class-init":e.unref(n),callback:f.reset},null,8,["locale","class-init","callback"])):e.createCommentVNode("",!0)],2)}}}),oe=e.defineComponent({__name:"SelectAllControlSelect",props:{callback:{type:Function},classInit:{},locale:{}},setup(s){return(t,l)=>{var o;return e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass([t.classInit,e.unref(i)("select_all",!0,t.classInit)]),onClick:l[0]||(l[0]=(...n)=>t.callback&&t.callback(...n))},[e.createElementVNode("span",{class:e.normalizeClass([e.unref(i)("select_all__icon")])},null,2),e.createTextVNode(" "+e.toDisplayString((o=t.locale)==null?void 0:o.selectAll),1)],2)}}}),se=e.defineComponent({__name:"SelectAllControlReset",props:{callback:{type:Function},classInit:{},locale:{}},setup(s){return(t,l)=>{var o;return e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass([t.classInit,e.unref(i)("reset_all",!0,t.classInit)]),onClick:l[0]||(l[0]=(...n)=>t.callback&&t.callback(...n))},[e.createElementVNode("span",{class:e.normalizeClass([e.unref(i)("reset_all__icon")])},null,2),e.createTextVNode(" "+e.toDisplayString((o=t.locale)==null?void 0:o.resetAll),1)],2)}}}),ae=["disabled","multiple"],ce=["label","disabled"],re=["selected","disabled","value"],ie=["selected","disabled","value"],pe=e.defineComponent({__name:"NativeSelect",props:{modelValue:{default:""},modelModifiers:{}},emits:e.mergeModels(["changeHandler"],["update:modelValue"]),setup(s,{emit:t}){const l=t,o=e.inject(w),n=e.inject(L),f=e.useModel(s,"modelValue"),p=d=>{l("changeHandler",d)},k=i("select_init");return(d,h)=>e.withDirectives((e.openBlock(),e.createElementBlock("select",{"onUpdate:modelValue":h[0]||(h[0]=_=>f.value=_),tabindex:-1,disabled:e.unref(o).disabled,class:e.normalizeClass([e.unref(k),e.unref(i)("native",!0,e.unref(k))]),multiple:e.unref(o).multiple,onChange:e.withModifiers(p,["prevent"])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(o).options,(_,C)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:C},[_.isOptgroupSelect?(e.openBlock(),e.createElementBlock("optgroup",{key:0,label:_.label,disabled:_.disabled},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(_.items,(m,a)=>(e.openBlock(),e.createElementBlock("option",{key:m.valueOf()+"_"+a,selected:e.unref(n).getSelected(m),disabled:m.disabled,value:m.value},e.toDisplayString(m[e.unref(o).keyTitle]),9,re))),128))],8,ce)):(e.openBlock(),e.createElementBlock("option",{key:_.valueOf()+"_"+C,selected:e.unref(n).getSelected(_),disabled:_.disabled,value:_.value},e.toDisplayString(_[e.unref(o).keyTitle]),9,ie))],64))),128))],42,ae)),[[e.vModelSelect,f.value]])}}),de=e.defineComponent({__name:"TopIconArrow",setup(s){return(t,l)=>(e.openBlock(),e.createElementBlock("span",{class:e.normalizeClass([e.unref(i)("icon")])},null,2))}});var Ie="",fe=(s,t)=>{const l=s.__vccOpts||s;for(const[o,n]of t)l[o]=n;return l};const me={},ue=s=>(e.pushScopeId("data-v-6a1d5d1b"),s=s(),e.popScopeId(),s),ke={class:"loader_wrap"},ye=[ue(()=>e.createElementVNode("div",{class:"loader"},null,-1))];function _e(s,t){return e.openBlock(),e.createElementBlock("div",ke,ye)}var Ce=fe(me,[["render",_e],["__scopeId","data-v-6a1d5d1b"]]);const z=e.defineComponent({__name:"SimpSelect",props:e.mergeModels({options:{},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},countShowSelected:{default:2},sepChars:{default:","},isRemoveTop:{type:Boolean,default:!1},locale:{default:()=>K},titleMain:{default:""},isOnlyPlaceholder:{type:Boolean,default:!1},isAlwaysOpen:{type:Boolean,default:!1},isSearch:{type:Boolean,default:!0},isCloneTitleToSearch:{type:Boolean,default:!0},searchTypeInput:{default:"search"},isSearchInDropdown:{type:Boolean,default:!1},searchFieldsKeys:{default:()=>["name"]},isConfirmInMulti:{type:Boolean,default:!1},isConfirmInMultiOkClickOutside:{type:Boolean,default:!1},keyValue:{default:"value"},keyTitle:{default:"name"},isSimpleShowCheckbox:{type:Boolean,default:!1},selectAll:{type:Boolean,default:!1},selectAllAfterClose:{type:Boolean,default:!0},resetAll:{type:Boolean,default:!1},resetAllAfterClose:{type:Boolean,default:!0},isUp:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},isNative:{type:Boolean,default:!1},isFloat:{type:Boolean,default:!1}},{modelValue:{default:""},modelModifiers:{},fullSelected:{},fullSelectedModifiers:{}}),emits:e.mergeModels(["callbackOpen","callbackClose"],["update:modelValue","update:fullSelected"]),setup(s,{expose:t,emit:l}){const o=e.useSlots(),n=s;e.provide(w,e.readonly(n));const f=l,p=e.useModel(s,"modelValue"),k=e.useModel(s,"fullSelected"),d=e.ref(null),h=e.ref(""),_=r=>{h.value=r||""},C=e.ref({fullString:n.titleMain,result:n.titleMain}),m=r=>{C.value=r},a=e.ref(!1),y=r=>{n.disabled||(r===!0||r===!1?a.value=r:a.value=!a.value)};e.watch(a,r=>{f(r?"callbackOpen":"callbackClose")});const c=e.ref(n.multiple?[]:""),u=e.ref([]);e.watch(p,()=>{F(p.value,c.value)||(c.value=M(p.value))},{immediate:!0,deep:!0}),e.watch(()=>n.options,()=>{b(p.value).length||(c.value=n.multiple?[]:""),k.value&&!F(k.value,u.value)&&(k.value=$(u.value))},{deep:!0});const g=r=>{const S=[],O=r.target;if(n.multiple){for(let E=0;E<O.options.length;E++){const A=O.options[E];A.selected&&S.push(A.value)}c.value=S}else c.value=O.value;e.nextTick(()=>{T()})},B=r=>{if(!n.multiple){c.value=r[n.keyValue];return}const S=c.value;if(!S||!S.length){c.value=[r[n.keyValue]];return}Array.isArray(c.value)||(c.value=[c.value]);const O=S.indexOf(r[n.keyValue]);O!==-1?c.value.splice(O,1):c.value.push(r[n.keyValue])},b=r=>{const S=Array.isArray(r),O=N(n.options);return u.value=O.filter(E=>S?r.includes(E[n.keyValue]):r.toString()===E[n.keyValue].toString()),u.value};e.onBeforeMount(()=>{b(c.value),T()}),e.watch(c,r=>{b(r),n.isConfirmInMulti||T()},{deep:!0});const V=()=>{k.value=$(u.value)},Be=()=>{p.value=M(c.value)},T=()=>{Be(),V()},be=()=>{c.value=M(p.value)},Se=r=>{c.value=n.multiple?[]:"",r&&e.nextTick(()=>{T(),a.value=!1})},ge=r=>{c.value=N(n.options).map(S=>S[n.keyValue]),r&&e.nextTick(()=>{T(),a.value=!1})},Oe=r=>typeof c.value=="object"?c.value.includes(r[n.keyValue]):c.value.toString()===r[n.keyValue].toString();return e.provide(L,{isLocalOpen:a,setIsLocalOpen:y,localSelectedFull:u,$wrapper:d,searchText:h,setSearchText:_,titleText:C,setTitleText:m,getSelected:Oe,setToggleOption:B,updateOutsideModels:T,resetSelectedByDontConfirm:be,resetAll:Se,selectAll:ge,componentItemList:o.itemList||Z,componentTitle:o.title||v,componentBottomControl:o.bottomControl||ee,componentBottomControlOk:o.bottomControlOk||te,componentBottomControlNo:o.bottomControlNo||le,componentSelectAllControls:o.selectControls||ne,componentSelectAllControlsSelect:o.selectControlsSelect||oe,componentSelectAllControlsReset:o.selectControlsReset||se,componentArrowIcon:o.arrowIcon||de,componentLoading:o.loading||Ce}),t({setIsLocalOpen:y}),(r,S)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"$wrapper",ref:d,class:e.normalizeClass([["SimpleSel"],{[e.unref(i)("multi",!0)]:r.multiple,[e.unref(i)("single",!0)]:!r.multiple,[e.unref(i)("body-always_open",!0)]:r.isAlwaysOpen,[e.unref(i)("float",!0)]:r.isFloat,[e.unref(i)("disabled",!0)]:r.disabled,[e.unref(i)("open",!0)]:a.value,[e.unref(i)("up",!0)]:r.isUp,[e.unref(i)("loading",!0)]:r.isLoading}])},[n.isNative?(e.openBlock(),e.createBlock(pe,{key:0,modelValue:p.value,"onUpdate:modelValue":S[0]||(S[0]=O=>p.value=O),onChangeHandler:g},null,8,["modelValue"])):e.createCommentVNode("",!0),e.createVNode(x,{onSetIsLocalOpen:y}),n.isNative?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(Y,{key:1}))],2))}}),he={install:function(s){s.component("SimpSelect",z)}};I.SimpSelect=z,I.useSelect=he,Object.defineProperties(I,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
